name: Flutter PR Checks

on:
  pull_request:
    branches: [ main ] 

jobs:
  ci_checks:
    name: Setup, Format, Analyze, and Test
    runs-on: ubuntu-latest
    
    steps:
      - name: â¬‡ï¸ Checkout Repository
        uses: actions/checkout@v4

      - name: ğŸ¦ Set up Flutter SDK from pubspec.yaml
        uses: subosito/flutter-action@v2
        with:
          channel: 'stable'
          flutter-version-file: pubspec.yaml 

      - name: ğŸ“¦ Install Dependencies
        run: flutter pub get

      - name: ğŸ§¹ Verify Formatting
        run: dart format --output=none --set-exit-if-changed .

      - name: ğŸ”¬ Run Static Code Analysis
        run: flutter analyze

      - name: ğŸ§ª Run Flutter Tests
        run: flutter test